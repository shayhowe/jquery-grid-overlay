<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>jQuery Grid Overlay by Shay Howe</title>
  </head>
  <body>

    <p>Press the <kbd>esc</kbd> key to toggle the grid.</p>
    <p>Enjoy the overlay? Follow <a href="https://twitter.com/shayhowe">@shayhowe</a> on Twitter.</p>

    <!-- Required: HTML grid -->
    <!-- Please substitute the 'container' and 'col-1-4' classes your own grid classes -->

    <div class="jquery-grid">
      <div class="container jquery-grid-container">
        <div class="col-1-4 jquery-grid-col"></div>
        <div class="col-1-4 jquery-grid-col"></div>
        <div class="col-1-4 jquery-grid-col"></div>
        <div class="col-1-4 jquery-grid-col"></div>
      </div>
    </div>

    <!-- Required: jQuery -->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    <!-- Required: Overlay functionality -->

    <script type="text/javascript">
      /*
        All of the JavaScript in this file should be
        wrapped in an IIFE (http://bit.ly/1d6XKwt). Without it,
        all the variables you assign in here will be added to
        the global namespace -- and that's a no no.

        Another good (jQuery) reference for this concept can be found
        in the jQuery plugin authoring guide: http://learn.jquery.com/plugins/basic-plugin-creation/.
        See the section titled "Protecting the $ Alias and Adding Scope".
      */

      // Edit the line_height variable below

      /*
        Idiomatic JavaScript would call for camelCased variables
        over snake_cased ones.
      */
      var line_height = 24;

      // No need for further adjustments

      // Setting up variables

      var line_height_offset = (line_height - 1) + 'px';

      /*
        `line_height` is a variable that's already declared,
        therefore it's useless to use the var keyword a second time.
      */
      var line_height = line_height + 'px';

      // Beginning jQuery

      $(document).ready(function() {

        // Setting horizontal background styles

        /*
          This line is a bit complex and could probably be defined in
          steps to be more readable.
        */

        $('.jquery-grid-container').css({
          backgroundImage: 'linear-gradient(transparent ' + line_height_offset + ', rgba(255, 0, 0, .6) ' + line_height_offset + ', rgba(255, 0, 0, .6) ' + line_height + ')',
          backgroundSize: line_height + ' ' + line_height
        });

        // Setting up 'ESC' function to toggle the grid

        $(document).on('keydown', function(event) {

          /*
            Should be in the habit of always using triple
            equals (`===`) for strict type checking.
          */

          if (event.which == 27) {
            event.preventDefault();

            /*
              You could use some selector caching if you wanted
              some (albeit very minor in this context) performance
              improvements. It's a good habit to be in though.

              For example:
                var $jQueryGrid = $('.jquery-grid');
                $jQueryGrid.toggle()
            */
            $('.jquery-grid').toggle();
          }
        });

      });

    </script>

    <!-- Required: Overlay styles -->

    <style type="text/css">
      .jquery-grid {
        display: none;
        height: 2000%;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 9999;
      }
      .jquery-grid-container,
      .jquery-grid-col {
        height: 100%;
      }
      .jquery-grid-col {
        background-color: rgba(255, 0, 0, .4);
      }
    </style>

    <!-- Not Required: Example grid styles -->

    <style type="text/css">
      .container {
        max-width: 960px;
        margin: 0 auto;
      }
      .col-1-4 {
        float: left;
        margin: 0 1.041666667%;
        width: 22.916666667%;
      }
      body {
        font: 16px/24px "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
        margin: 24px;
        text-align: center;
      }
      p {
        margin: 24px;
      }
      kbd {
        line-height: 1;
      }
    </style>

  </body>
</html>
